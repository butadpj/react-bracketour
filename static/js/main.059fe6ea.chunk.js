(this["webpackJsonpreact-bracketour"]=this["webpackJsonpreact-bracketour"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(8),s=n.n(c),i=n(2),o=n(3),l=(n(13),n(0)),u=function(e){var t=e.value,n=void 0===t?"":t,a=e.status,r=void 0===a?"":a,c=e.onChange;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("label",{htmlFor:"participant-input",children:"Enter the number of participants"}),Object(l.jsx)("input",{id:"participant-input",value:n,className:"input ".concat(r),type:"text",placeholder:"2",onChange:c})]})},d=(n(15),function(){return Object(l.jsxs)("header",{children:[Object(l.jsx)("h1",{className:"main__title",children:"Bracketour"}),Object(l.jsx)("h4",{className:"sub__title",children:"Create brackets for tournament"})]})}),m=(n(16),function(e){var t=e.children,n=e.type,a=void 0===n?"button":n,r=e.classNames,c=void 0===r?[]:r,s=e.disabled,i=void 0!==s&&s,o=e.onClick,u=void 0===o?function(){}:o;return Object(l.jsx)("button",{disabled:i,onClick:u,type:a,className:"btn ".concat(c.join(" ")),children:t})}),b=(n(17),function(e){var t=e.children,n=e.onSubmit;return Object(l.jsx)("form",{onSubmit:n,className:"participant-form",children:t})}),f=(n(18),function(e){return e.children}),j=function(e,t){var n;return"string"===typeof e&&t.classList.add(e),Array.isArray(e)&&(n=t.classList).add.apply(n,Object(i.a)(e)),function(n){setTimeout((function(){t.classList.remove(e)}),1e3*n)}},p=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},h=function(e){return function(t){var n=e.firstElementChild.dataset.name;document.querySelectorAll("[data-name='".concat(n,"']")).forEach((function(e){t(e)}))}},v=["Saunders","Tate","Mack","Hammond","Carrillo","Townsend","Wise","Ingram","Barton","Mejia","Ayala","Schroeder","Hampton","Rowe","Parsons","Frank","Waters","Strickland","Osborne","Maxwell","Chan","Deleon","Norman","Harrington","Casey","Patton","Logan","Bowers","Mueller","Glover","Floyd","Hartman","Buchanan","Cobb","French","Kramer","Mccormick","Clarke","Tyler","Gibbs","Hogan","Pham","Lang","Pratt","Lara","Brock","Ballard","Trujillo","Shaffer","Drake"],y=n(5),O=function(e,t){switch(t.type){case"GENERATE_1ST_ROUND_BRACKETS":var n=function(e){for(var t,n=Object(i.a)(e),a=n.length;0!==a;){t=Math.floor(Math.random()*a),a--;var r=[n[t],n[a]];n[a]=r[0],n[t]=r[1]}return n}(t.payload.names),a=t.payload.playerCount;return[{number:1,players:Object(i.a)(Array(Number(a))).map((function(e,t){return{name:n[t],score:0}})),showConnectors:!1}];case"NEXT_ROUND":var r=t.payload.previousRound,c=t.payload.groupCount,s=function(e,t){var n=Math.ceil(e.length/t);return new Array(t).fill("").map((function(t,a){return e.slice(a*n,(a+1)*n)}))}(e.filter((function(e){return e.number===r}))[0].players,c),o=s.map((function(e){var t,n=(t=e).length>1?t[p(0,1)]:t[0];return n.score=p(2,3),e.map((function(e){return 0===e.score?(e.score=p(0,1),e):e})),n}));return[].concat(Object(i.a)(e.map((function(e){return e.number===r?Object(y.a)(Object(y.a)({},e),{},{showConnectors:!0}):e}))),[{number:r+1,players:o.map((function(e){return Object(y.a)(Object(y.a)({},e),{},{score:0})}))}]);default:return e}},x=(n(19),function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t)return"number"===t&&(e=/^[0-9]*$/),"letter"===t&&(e=/[A-Za-z]/),function(t){return t(e)}}("number")),g=[],N=function(){var e=r.a.useReducer(O,g),t=Object(o.a)(e,2),n=t[0],a=t[1],c=r.a.useState(""),s=Object(o.a)(c,2),p=s[0],y=s[1],N=r.a.useState(null),_=Object(o.a)(N,2),C=_[0],k=_[1],E=r.a.useState(!0),L=Object(o.a)(E,2),R=L[0],S=L[1],T=r.a.useState(!1),w=Object(o.a)(T,2),M=w[0],A=w[1],B=r.a.useState(!1),D=Object(o.a)(B,2),F=D[0],G=D[1],H=r.a.useRef(null),P=r.a.useRef(null),W=r.a.useRef(null),U=r.a.useRef(0),I=r.a.useRef(0),K=function(e){e.closest(".player").classList.add("active"),e.classList.add("active")},J=function(e){e.closest(".player").classList.remove("active"),e.classList.remove("active")};return r.a.useEffect((function(){if(p){var e=x((function(e){return p&&e.test(p)&&Number(p)<=50&&Number(p)>=2?{valid:!0}:Number(p)>50?{valid:!1,error:"max"}:Number(p)<2?{valid:!1,error:"min"}:{valid:!1,error:"Please input a valid number"}}));if(k(e),!e.valid){if("min"===e.error)j("apply-shake",H.current)(1.5);if("max"===e.error)j("apply-shake",P.current)(1.5)}}else k(null)}),[p]),r.a.useEffect((function(){var e;if(n.length){var t=n[n.length-1];if(1===t.players.length){var a=t.players[0].name;t.players[0].score="W",G(!0),e=setTimeout((function(){alert("The winnner of this tournament is: ".concat(a))}),200)}W.current.addEventListener("mouseover",(function(e){r(e)})),W.current.addEventListener("mouseout",(function(e){c(e)}));var r=function(e){e.target.classList.contains("player")&&h(e.target)((function(e){K(e)}));(e.target.classList.contains("player__name")||e.target.classList.contains("player__score"))&&h(e.target.closest(".player"))((function(e){K(e)}))},c=function(e){e.target.classList.contains("player")&&h(e.target)((function(e){J(e)}));(e.target.classList.contains("player__name")||e.target.classList.contains("player__score"))&&h(e.target.closest(".player"))((function(e){J(e)}))}}return function(){clearInterval(e)}}),[n]),Object(l.jsxs)("div",{className:"app",children:[Object(l.jsx)(d,{}),R&&Object(l.jsxs)(b,{onSubmit:function(e){e.preventDefault(),S(!1),A(!0),I.current=Math.ceil(p/2),a({type:"GENERATE_1ST_ROUND_BRACKETS",payload:{names:v,playerCount:p}})},children:[Object(l.jsx)(u,{value:p,onChange:function(e){y(e.target.value)},status:C?C.valid?"success":"danger":""}),Object(l.jsxs)("div",{className:"constraints",children:[Object(l.jsxs)("h4",{className:"min",ref:H,children:["min: ",2]}),Object(l.jsxs)("h4",{className:"max",ref:P,children:["max: ",50]})]}),Object(l.jsx)(m,{type:"submit",disabled:!C||!C.valid,classNames:["submit__btn","".concat(C&&C.valid?"":"disabled")],children:"Generate"})]}),M&&Object(l.jsxs)(f,{children:[Object(l.jsxs)("div",{className:"brackets-nav",children:[Object(l.jsx)(m,{onClick:function(){S(!0),A(!1),G(!1),U.current=0,I.current=0},classNames:["btn--outline"],children:"Edit Brackets"}),Object(l.jsx)(m,{disabled:F,onClick:function(){U.current=U.current+1,a({type:"NEXT_ROUND",payload:{previousRound:U.current,groupCount:I.current}}),I.current=Math.ceil(I.current/2)},classNames:[F?"disabled":""],children:"Next round"})]}),Object(l.jsx)("main",{className:"brackets-main",ref:W,children:n.map((function(e,t){return Object(l.jsxs)(r.a.Fragment,{children:[Object(l.jsx)("div",{className:"round".concat(e.number),children:e.players.map((function(e,t){return Object(l.jsxs)("div",{className:"player ".concat("W"===e.score?"winner":""),children:[Object(l.jsx)("div",{className:"player__name ".concat("W"===e.score?"winner":""),"data-name":e.name,children:e.name}),Object(l.jsx)("div",{className:"player__score",children:e.score})]},t)}))},e.number),e.showConnectors&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"connectors-r".concat(e.number),children:Object(i.a)(Array(Math.ceil(e.players.length/2))).map((function(e,t){return Object(l.jsx)("div",{},t)}))}),Object(l.jsx)("div",{className:"lines-r".concat(e.number),children:Object(i.a)(Array(Math.ceil(e.players.length/4))).map((function(e,t){return Object(l.jsx)("div",{},t)}))})]})]},t)}))})]})]})};n(20);s.a.render(Object(l.jsx)(N,{}),document.getElementById("root"))}],[[21,1,2]]]);
//# sourceMappingURL=main.059fe6ea.chunk.js.map